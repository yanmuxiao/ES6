<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>iterable类型</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
</head>
<body>
    
</body>
<script type="text/javascript">

	/*
	遍历Array可以采用下标循环，遍历Map和Set就无法使用下标。为了统一集合类型，ES6标准引入了新的iterable类型，Array、Map和Set都属于iterable类型。

	具有iterable类型的集合可以通过新的for ... of循环来遍历。

	for ... of循环是ES6引入的新的语法，请测试你的浏览器是否支持：
	 */


	var a = ['A', 'B', 'C'];
	for (var x of a) { // 遍历Array
	    console.log(x);//A B C
	}

	console.log('*****************');

	var s = new Set(['A', 'B', 'C']);
	for (var x of s) { // 遍历Set
	    console.log(x);//A B C
	}

	console.log('*****************');

	var m = new Map([[1, 'x'], [2, 'y'], [3, 'z']]);
	for (var x of m) { // 遍历Map
	    console.log(x);
	    console.log(x[0] + '=' + x[1]);
	}

	console.log('*****************');

	// for...in... 历史遗留问题
	var aForIn = ['A', 'B', 'C'];
	aForIn.name = 'Hello';
	for (var x in aForIn) {
	    console.log(x); 
	    // '0', '1', '2', 'name' ==>把数组对象的属性也循环出来了
	}

	console.log('*****************');


	var aForOf = ['A', 'B', 'C'];
	aForOf.name = 'Hello';
	for (var x of aForOf) {
	    console.log(x); // 'A', 'B', 'C'
	}

	console.log('*****************');


	// 注意，forEach()方法是ES5.1标准引入的，你需要测试浏览器是否支持。
	var aForEach = ['A', 'B', 'C'];
	aForEach.forEach(function (value, index, array) {
	    // value: 指向当前元素的值
	    // index: 指向当前索引
	    // array: 指向Array对象本身
	    console.log(value);//A B C
	});

	console.log('*****************');

	// Set与Array类似，但Set没有索引，因此回调函数的前两个参数
	// 都是元素本身：
	var sForEach = new Set(['A', 'B', 'C']);
	sForEach.forEach(function (element, sameElement, set) {
	    console.log(element);//A B C
	    console.log(element === sameElement);//true
	    console.log(set);
	});

	console.log('*****************');


	// Map的回调函数参数依次为value、key和map本身：

	var mForEach = new Map([[1, 'x'], [2, 'y'], [3, 'z']]);
	mForEach.forEach(function (value, key, map) {
	    console.log(key + ' ==> ' + value);//x y z
	    console.log(map);
	});


	// 由于JavaScript的函数调用不要求参数必须一致如果对forEach的
	// 某些参数不敢兴起，可以不写，但是用到后面的前面的必须有，顺
	// 序不但能乱


</script>
</html>